import {
  init_esm_shims
} from "./chunk-WWCIODDN.js";

// Commands/Moderation/fullclear.ts
init_esm_shims();
import { PermissionFlagsBits, SlashCommandBuilder } from "discord.js";
var command = {
  data: new SlashCommandBuilder().setName("fullclear").setDescription("L\xF6sche alle Nachrichten in diesem Kanal").setDefaultMemberPermissions(PermissionFlagsBits.Administrator),
  async execute(interaction, client) {
    const channel = interaction.channel;
    await interaction.deferReply({ ephemeral: true });
    await interaction.editReply("Vorgang: ``Fetching Messages``");
    let messagesToDelete = await channel.messages.fetch({ limit: 100 });
    while (messagesToDelete.size > 0) {
      await interaction.editReply(`Vorgang: \`\`Deleting ${messagesToDelete.size} Messages\`\``);
      const promise = messagesToDelete.map((message) => {
        if (message.deletable) return message.delete().catch((err) => console.log(err));
      });
      await Promise.all(promise);
      await interaction.editReply(`Vorgang: \`\`Fetching Messages\`\``);
      messagesToDelete = await channel.messages.fetch({ limit: 100 });
    }
    await interaction.editReply("Channel cleared!").catch((err) => console.log(err));
  }
};
var fullclear_default = command;
export {
  fullclear_default as default
};
