import {
  warns_default
} from "./chunk-OPC27YAZ.js";
import {
  init_esm_shims
} from "./chunk-WWCIODDN.js";

// Commands/Moderation/unwarn.ts
init_esm_shims();
import { SlashCommandBuilder, PermissionFlagsBits } from "discord.js";
var command = {
  data: new SlashCommandBuilder().setName("unwarn").setDescription("Entferne einen Warn von einem User").addUserOption((input) => input.setName("user").setDescription("Der User, von dem du einen Warn entfernen m\xF6chtest").setRequired(true)).addStringOption((input) => input.setName("warn-id").setDescription("Die ID des Warns, den du entfernen m\xF6chtest").setRequired(true)).setDefaultMemberPermissions(PermissionFlagsBits.ModerateMembers),
  async execute(interaction) {
    const member = interaction.options.getMember("user");
    const id = interaction.options.get("warn-id", true).value;
    await warns_default.findOne({ userId: member.user.id }).then(async (User) => {
      if (!User || User.warns.length == 0 || !User.warns.find((w) => w.id == id)) {
        interaction.reply({ content: `${member} hat keine Verwarnungen oder keine mit dieser ID!`, ephemeral: true });
        return;
      } else {
        User.warns = User.warns.filter((w) => w.id != id);
        await User.save();
        interaction.reply(`Du hast einen Warn von ${member} entfernt!`);
      }
    });
  }
};
var unwarn_default = command;
export {
  unwarn_default as default
};
