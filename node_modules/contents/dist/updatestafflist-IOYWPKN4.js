import "./chunk-P5JGOPVX.js";
import {
  init_esm_shims
} from "./chunk-WWCIODDN.js";

// Commands/Admin/updatestafflist.ts
init_esm_shims();
import { EmbedBuilder, SlashCommandBuilder, PermissionFlagsBits } from "discord.js";
var command = {
  data: new SlashCommandBuilder().setName("update-stafflist").setDescription("Aktualisiere die Teamliste manuell").setDefaultMemberPermissions(PermissionFlagsBits.Administrator),
  async execute(interaction, client) {
    await interaction.reply({ content: "Die Teamliste wird aktualisiert...", ephemeral: true });
    const guild = client.guilds.cache.get("1146113684435898439");
    const channel = client.channels.cache.get("1173357582933573722" /* teamliste */);
    const staff = [
      "1170957646942191688",
      //EigentÃ¼mer
      "1181259236408311828",
      //Serverleitung
      "1196522075691679754",
      //Verwaltung-Management
      "1146117778483450048",
      //Dev
      "1146113684570124344",
      //Admin
      "1236722805660324033",
      //Mod Leitung
      "1147206142548787372",
      //mod
      "1237032478196236380",
      //test mod
      "1236722501115969586",
      //Sup Leitung
      "1148217519631499384",
      //sup
      "1146113684570124342",
      //test sup
      "1201591226143608912",
      //Marketing
      "1201591186272555150",
      //Test marketing
      "1228063213288161340",
      //marketing content creator
      "1228063079774949406",
      //test marketing content creator
      "1180773957708820551",
      //Server-Management
      "1216758777290690710"
      //Event Team
    ];
    const message = await channel.messages.fetch("1227354357452898377");
    const mainEmbed = new EmbedBuilder({
      title: "Teamliste",
      description: ""
    });
    for (const id of staff) {
      const role = guild.roles.cache.get(id);
      const guildMembers = await guild.members.fetch();
      let members = [];
      mainEmbed.data.description += `${role}
`;
      members = guildMembers.filter((m) => m.roles.cache.has(id)).map((m) => m);
      if (members.length == 0) {
        mainEmbed.data.description += `**/**

`;
      } else {
        mainEmbed.data.description += `${members.join(", ")}

`;
      }
    }
    await message.edit({ embeds: [mainEmbed] });
    await interaction.editReply({ content: "Die Teamliste wurde aktualisiert" });
  }
};
var updatestafflist_default = command;
export {
  updatestafflist_default as default
};
