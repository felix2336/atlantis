import {
  init_esm_shims
} from "./chunk-WWCIODDN.js";

// Commands/Admin/poll.ts
init_esm_shims();
import { PermissionFlagsBits, SlashCommandBuilder } from "discord.js";
var command = {
  data: new SlashCommandBuilder().setName("poll").setDescription("Erstelle eine Umfrage").setDefaultMemberPermissions(PermissionFlagsBits.Administrator).addStringOption((input) => input.setName("question").setDescription("Welche Frage?").setRequired(true)).addStringOption((input) => input.setName("options").setDescription('Gib hier die Optionen ein (Durch "," getrennt)').setRequired(true)).addNumberOption((input) => input.setName("duration").setDescription("Dauer der Umfrage (in Std.)").setRequired(true)).addBooleanOption((input) => input.setName("multiselect").setDescription("Multiselect?").setRequired(true)).addChannelOption((input) => input.setName("channel").setDescription("Welcher Channel?").setRequired(true)),
  async execute(interaction) {
    const emojis = ["1\uFE0F\u20E3", "2\uFE0F\u20E3", "3\uFE0F\u20E3", "4\uFE0F\u20E3", "5\uFE0F\u20E3", "6\uFE0F\u20E3", "7\uFE0F\u20E3", "8\uFE0F\u20E3", "9\uFE0F\u20E3", "\u{1F51F}"];
    const question = interaction.options.getString("question", true);
    const rawOptions = interaction.options.getString("options", true);
    const multiselect = interaction.options.getBoolean("multiselect", true);
    const duration = interaction.options.getNumber("duration", true);
    const channel = interaction.options.getChannel("channel");
    const options = rawOptions.split(",");
    const poll = {
      allowMultiselect: multiselect,
      question: { text: question },
      answers: [
        ...options.map((option, index) => ({ text: option.trim(), emoji: emojis[index] }))
      ],
      duration
    };
    channel.send({ poll });
    interaction.reply({ content: "Die Umfrage wurde erfolgreich gepostet", ephemeral: true });
  }
};
var poll_default = command;
export {
  poll_default as default
};
